## IO

io分为磁盘io，网络io等

内核态

> 连接外部设备，比如磁盘，网卡等

用户态

> 访问内存

数据经过用户态>内核态->网卡->七层网络模型-服务端网卡->内核态->用户态



## 网络IO

网络建立连接的过程：

1.socket 绑定端口号

2.socket 监听端口号

3.socket接受连接accept



其中TCP的三次握手是在accept之前

accept()，read()，write()默认都是阻塞的



## 阻塞

当用户发起请求时，内核态的数据还未准备好，则会发生阻塞



## BIO-同步阻塞

由于网络io是阻塞模式的，客户端与服务端建立连接时，服务端为每个连接建立线程

适用于并发量不大的场景





## NIO 同步非阻塞

> 指当内核态数据未准备好时，直接返回，不发生阻塞

此时，用户态不断请求内核态数据是否准备好，为了避免不断的系统调用，引起**多路复用**



IO多路复用

> 通过一次系统调用，将多个连接丢个内核，让内核告知哪些连接数据已就绪，然后对已就绪的连接进行操作
>
> 复用指的是复用**系统调用**



### 单线程多路复用

> IO及非IO的连接都在一个线程上处理





### 多线程多路复用

> 主线程负责网络接受连接，从线程进行连接的io处理





## AIO 异步非阻塞

